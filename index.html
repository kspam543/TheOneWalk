<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Helvetica Neue'; color: #0e0e0e}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px 'Helvetica Neue'; color: #0e0e0e; min-height: 19.0px}
  </style>
</head>
<body>
<p class="p1"><b>&lt;!DOCTYPE html&gt;</b></p>
<p class="p1"><b>&lt;html lang="en"&gt;</b></p>
<p class="p1"><b>&lt;head&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;title&gt;The One Walk - Journey to Mount Doom&lt;/title&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;style&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>* {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-sizing: border-box;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>body {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-family: Georgia, serif;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: #2d1810;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #f5e6d3;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>overflow: hidden;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>touch-action: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Map Container */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#map-container {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>top: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>left: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 100vw;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>height: 100vh;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>overflow: hidden;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: #1a0f08;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>cursor: grab;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#map-container.grabbing {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>cursor: grabbing;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#map-wrapper {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: absolute;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transform-origin: 0 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transition: transform 0.1s ease-out;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#map-image {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: block;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>height: auto;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>user-select: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>-webkit-user-drag: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* SVG Overlay */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#route-overlay {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: absolute;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>top: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>left: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>height: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>pointer-events: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#route-overlay circle,</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#route-overlay text {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>pointer-events: auto;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Route styling */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.route-base {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>fill: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke: #6b4423;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-width: 3;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-linecap: round;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-linejoin: round;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>opacity: 0.4;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-dasharray: 8 4;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.route-completed {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>fill: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke: url(#route-gradient);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-width: 4;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-linecap: round;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke-linejoin: round;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>filter: drop-shadow(0 0 8px rgba(220, 38, 38, 0.6));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Waypoint markers */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.waypoint {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transition: all 0.2s ease;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.waypoint:hover {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transform: scale(1.3);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.waypoint-reached circle {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>fill: #16a34a;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke: #fef3c7;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.waypoint-unreached circle {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>fill: #f59e0b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke: #78350f;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.waypoint-current circle {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>fill: #dc2626;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>stroke: #fef3c7;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>animation: pulse 2s infinite;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>@keyframes pulse {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>0%, 100% { opacity: 1; transform: scale(1); }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>50% { opacity: 0.7; transform: scale(1.15); }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Character marker */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#character-marker {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.8));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>animation: float 3s ease-in-out infinite;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>@keyframes float {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>0%, 100% { transform: translateY(0); }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>50% { transform: translateY(-5px); }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* UI Panel */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#ui-panel {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>bottom: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>left: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>right: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(to top, rgba(29, 24, 16, 0.98), rgba(29, 24, 16, 0.95));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-top: 3px solid #92400e;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>max-height: 45vh;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>overflow-y: auto;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 100;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transition: transform 0.3s ease;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#ui-panel.minimized {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transform: translateY(calc(100% - 50px));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#panel-handle {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-bottom: 1px solid #6b4423;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 14px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #f59e0b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(20, 16, 12, 0.5);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#panel-content {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Stats Grid */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.stats-grid {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: grid;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>gap: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.stat-card {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, #3d2817, #2d1810);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 2px solid #92400e;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.stat-label {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 11px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #d4a574;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-transform: uppercase;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>letter-spacing: 0.5px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 4px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.stat-value {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 24px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #f5e6d3;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.stat-unit {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #b8956a;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Progress bar */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.progress-container {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: #2d1810;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 2px solid #6b4423;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>height: 24px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin: 16px 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>overflow: hidden;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: relative;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.progress-bar {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>height: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(90deg, #16a34a, #f59e0b, #dc2626);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transition: width 0.5s ease;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 0 12px rgba(220, 38, 38, 0.6);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.progress-text {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: absolute;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>top: 50%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>left: 50%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transform: translate(-50%, -50%);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #fef3c7;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Current location */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.location-card {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, #422006, #2d1810);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 2px solid #f59e0b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.location-name {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 18px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #fbbf24;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 4px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.location-desc {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 13px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #d4a574;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>line-height: 1.4;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Log form */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.log-section {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, #1e3a5f, #1a2942);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 2px solid #3b82f6;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-top: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.log-title {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #93c5fd;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.input-group {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.input-label {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: block;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #bfdbfe;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 4px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>input[type="number"],</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>input[type="text"] {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: #1e293b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 2px solid #475569;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 6px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #f1f5f9;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-family: Georgia, serif;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>input:focus {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>outline: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-color: #3b82f6;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.btn {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 14px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-family: Georgia, serif;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transition: all 0.2s;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.btn-primary {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, #2563eb, #1d4ed8);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: white;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.btn-primary:active {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transform: translateY(2px);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 2px 6px rgba(37, 99, 235, 0.4);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Zoom controls */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.zoom-controls {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>bottom: 50vh;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>right: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>flex-direction: column;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>gap: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 50;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.zoom-btn {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 48px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>height: 48px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(29, 24, 16, 0.9);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 2px solid #92400e;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 50%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #f59e0b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 24px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transition: all 0.2s;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.zoom-btn:active {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>transform: scale(0.95);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(29, 24, 16, 1);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Waypoint modal */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#waypoint-modal {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>top: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>left: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>right: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>bottom: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(0, 0, 0, 0.8);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 200;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 20px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#waypoint-modal.active {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.modal-content {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: linear-gradient(135deg, #422006, #2d1810);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border: 3px solid #f59e0b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 24px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>max-width: 400px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 8px 32px rgba(0, 0, 0, 0.7);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.modal-title {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 22px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #fbbf24;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 8px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.modal-distance {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 14px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #d4a574;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.modal-lore {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(0, 0, 0, 0.3);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>border-left: 3px solid #f59e0b;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin: 12px 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 13px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>line-height: 1.6;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #e5d5b7;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-style: italic;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.modal-close {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-top: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: #6b4423;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #f5e6d3;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>/* Celebration overlay */</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#celebration {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: none;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>position: fixed;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>top: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>left: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>right: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>bottom: 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>background: rgba(0, 0, 0, 0.9);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>z-index: 300;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>justify-content: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>animation: fadeIn 0.5s;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>#celebration.active {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>@keyframes fadeIn {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>from { opacity: 0; }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>to { opacity: 1; }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.celebration-content {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>padding: 32px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>animation: scaleIn 0.5s ease-out;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>@keyframes scaleIn {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>from { transform: scale(0.8); opacity: 0; }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>to { transform: scale(1); opacity: 1; }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.celebration-icon {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 80px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>animation: bounce 1s infinite;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>@keyframes bounce {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>0%, 100% { transform: translateY(0); }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>50% { transform: translateY(-20px); }</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.celebration-title {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 32px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-weight: bold;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #fbbf24;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin-bottom: 12px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>.celebration-text {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>color: #d4a574;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>max-width: 400px;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>margin: 0 auto;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</b></p>
<p class="p1"><b>&lt;/head&gt;</b></p>
<p class="p1"><b>&lt;body&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;!-- Map Container --&gt;</b></p>
<p class="p1"><b>&lt;div id="map-container"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;div id="map-wrapper"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;img id="map-image" src="middle-earth-map.jpg" alt="Middle-earth Map"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;svg id="route-overlay" viewBox="0 0 100 100" preserveAspectRatio="none"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;defs&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;linearGradient id="route-gradient" x1="0%" y1="0%" x2="100%" y2="0%"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;stop offset="0%" style="stop-color:#16a34a;stop-opacity:1" /&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;stop offset="50%" style="stop-color:#f59e0b;stop-opacity:1" /&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>&lt;stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" /&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/linearGradient&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/defs&gt;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;!-- Route paths (will be drawn by JS) --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;polyline id="route-base" class="route-base"&gt;&lt;/polyline&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;polyline id="route-completed" class="route-completed"&gt;&lt;/polyline&gt;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;!-- Waypoints (will be added by JS) --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;g id="waypoints"&gt;&lt;/g&gt;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;!-- Character marker --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;g id="character-marker"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;circle r="1.5" fill="#dc2626" stroke="#fef3c7" stroke-width="0.3"/&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;text y="3.5" text-anchor="middle" font-size="3" fill="#fef3c7"&gt;ğŸ§™â€â™‚ï¸&lt;/text&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/g&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;/svg&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;!-- Zoom Controls --&gt;</b></p>
<p class="p1"><b>&lt;div class="zoom-controls"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;button class="zoom-btn" id="zoom-in"&gt;+&lt;/button&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;button class="zoom-btn" id="zoom-out"&gt;âˆ’&lt;/button&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;button class="zoom-btn" id="zoom-reset" style="font-size: 20px;"&gt;âŸ²&lt;/button&gt;</b></p>
<p class="p1"><b>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;!-- UI Panel --&gt;</b></p>
<p class="p1"><b>&lt;div id="ui-panel"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;div id="panel-handle"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>â¬†ï¸ Journey Progress â¬†ï¸</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;div id="panel-content"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;!-- Current Location --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="location-card"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="location-name" id="current-location"&gt;Bag End, The Shire&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="location-desc" id="location-desc"&gt;Green rolling hills, comfortable and peaceful&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;!-- Progress Bar --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="progress-container"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="progress-bar" id="progress-bar" style="width: 0%"&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="progress-text" id="progress-text"&gt;0% Complete&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;!-- Stats Grid --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="stats-grid"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-card"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Walked&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-value" id="stat-walked"&gt;0&lt;span class="stat-unit"&gt;km&lt;/span&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-card"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Remaining&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-value" id="stat-remaining"&gt;2863&lt;span class="stat-unit"&gt;km&lt;/span&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="stat-card"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-label"&gt;Next Waypoint&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="stat-value" id="stat-next" style="font-size: 18px;"&gt;Bucklebury&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;!-- Log Walk Section --&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="log-section"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="log-title"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>ğŸ“ Log Today's Walk</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label class="input-label"&gt;Distance (km)&lt;/label&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;input type="number" id="distance-input" step="0.1" placeholder="5.0"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;div class="input-group"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label class="input-label"&gt;Note (optional)&lt;/label&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;input type="text" id="note-input" placeholder="Morning walk through the park..."&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;button class="btn btn-primary" id="log-btn"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>â• Add Entry</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>&lt;/button&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;!-- Waypoint Modal --&gt;</b></p>
<p class="p1"><b>&lt;div id="waypoint-modal"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;div class="modal-content"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="modal-title" id="modal-title"&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="modal-distance" id="modal-distance"&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="modal-lore" id="modal-lore"&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;button class="btn modal-close" id="modal-close"&gt;Close&lt;/button&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;!-- Celebration --&gt;</b></p>
<p class="p1"><b>&lt;div id="celebration"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;div class="celebration-content"&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="celebration-icon"&gt;ğŸ†&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="celebration-title" id="celebration-title"&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>&lt;div class="celebration-text" id="celebration-text"&gt;&lt;/div&gt;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</b></p>
<p class="p1"><b>&lt;/div&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;script&gt;</b></p>
<p class="p1"><b>// Waypoints with coordinates as percentages of map dimensions</b></p>
<p class="p1"><b>const WAYPOINTS = [</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 1, name: "Bag End, The Shire", distance: 0, x: 18, y: 26, description: "Green rolling hills, comfortable and peaceful", lore: "Home of Bilbo and Frodo Baggins. Your adventure begins at the round green door of Bag End in Hobbiton." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 2, name: "Bucklebury Ferry", distance: 28, x: 20, y: 29, description: "River crossing through gentle farmland", lore: "The hobbits cross the Brandywine River, narrowly escaping the Black Riders pursuing them from the Shire." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 3, name: "Bree", distance: 165, x: 26, y: 34, description: "Village at the crossroads", lore: "A village where Men and Hobbits dwell together. Here at The Prancing Pony, Frodo meets the mysterious Strider." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 4, name: "Weathertop", distance: 280, x: 32, y: 32, description: "Ancient ruins atop windswept hills", lore: "Ruins of the great watchtower. Here Frodo is wounded by the blade of the Witch-king." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 5, name: "Ford of Bruinen", distance: 440, x: 38, y: 29, description: "Swift waters at Rivendell's border", lore: "The enchanted river protecting Rivendell. The NazgÃ»l are swept away by Elrond's flood." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 6, name: "Rivendell", distance: 458, x: 40, y: 28, description: "The Last Homely House", lore: "Imladris, refuge of Elrond. Here the Fellowship is formed and the fate of the Ring is decided." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 7, name: "Hollin Gate", distance: 680, x: 45, y: 35, description: "Rocky foothills below Misty Mountains", lore: "The ancient elvish realm of Eregion, where the Rings of Power were forged." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 8, name: "Moria", distance: 850, x: 48, y: 38, description: "Dark tunnels through mountain depths", lore: "The greatest of Dwarf-cities, now fallen to shadow. Here Gandalf faces the Balrog." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 9, name: "LothlÃ³rien", distance: 1020, x: 53, y: 42, description: "Golden wood of the Galadhrim", lore: "Realm of Galadriel and Celeborn, where time moves differently." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 10, name: "Amon Hen", distance: 1260, x: 53, y: 52, description: "Hill of Sight above the great river", lore: "The Seat of Seeing. Here the Fellowship is broken and the Three Hunters begin their chase." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 11, name: "Emyn Muil", distance: 1380, x: 56, y: 55, description: "Maze of sharp rocky peaks", lore: "A treacherous labyrinth of stone where Frodo and Sam are lost for days." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 12, name: "Dead Marshes", distance: 1540, x: 60, y: 57, description: "Haunted wetlands", lore: "Ancient battlefield where the last alliance fought Sauron. The dead lie preserved in dark waters." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 13, name: "Black Gate", distance: 1720, x: 64, y: 58, description: "The great gate of Mordor", lore: "The mighty gateway to Mordor, flanked by the Towers of the Teeth. Too well guarded for passage." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 14, name: "Ithilien", distance: 1870, x: 66, y: 63, description: "Fair woodland on Mordor's border", lore: "Once the garden of Gondor. Faramir's rangers ambush Southrons here." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 15, name: "Cirith Ungol", distance: 2120, x: 70, y: 68, description: "The high pass guarded by Shelob", lore: "The pass of the spider, where Shelob the Great makes her lair." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 16, name: "Tower of Cirith Ungol", distance: 2150, x: 71, y: 69, description: "Evil fortress at the pass", lore: "Orc-tower watching the pass. Frodo is held prisoner here until Sam rescues him." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 17, name: "Morgul Vale", distance: 2240, x: 72, y: 72, description: "Valley of evil sorcery", lore: "Minas Morgul glows with corpse-light in this cursed valley." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 18, name: "Gorgoroth Plains", distance: 2550, x: 77, y: 78, description: "Ashen wasteland within Mordor", lore: "The desolate plateau of Mordor, filled with orc armies and the smoke of Mount Doom." },</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>{ id: 19, name: "Mount Doom", distance: 2863, x: 83, y: 83, description: "The fires where the Ring was forged", lore: "Orodruin, the Mountain of Fire. Here in the Cracks of Doom, the Ring must be unmade." }</b></p>
<p class="p1"><b>];</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>const TOTAL_DISTANCE = 2863;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// State</b></p>
<p class="p1"><b>let entries = [];</b></p>
<p class="p1"><b>let scale = 1;</b></p>
<p class="p1"><b>let translateX = 0;</b></p>
<p class="p1"><b>let translateY = 0;</b></p>
<p class="p1"><b>let isPanning = false;</b></p>
<p class="p1"><b>let startX = 0;</b></p>
<p class="p1"><b>let startY = 0;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// DOM Elements</b></p>
<p class="p1"><b>const mapContainer = document.getElementById('map-container');</b></p>
<p class="p1"><b>const mapWrapper = document.getElementById('map-wrapper');</b></p>
<p class="p1"><b>const mapImage = document.getElementById('map-image');</b></p>
<p class="p1"><b>const routeBase = document.getElementById('route-base');</b></p>
<p class="p1"><b>const routeCompleted = document.getElementById('route-completed');</b></p>
<p class="p1"><b>const waypointsGroup = document.getElementById('waypoints');</b></p>
<p class="p1"><b>const characterMarker = document.getElementById('character-marker');</b></p>
<p class="p1"><b>const uiPanel = document.getElementById('ui-panel');</b></p>
<p class="p1"><b>const panelHandle = document.getElementById('panel-handle');</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Initialize</b></p>
<p class="p1"><b>function init() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>loadEntries();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>setupMap();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>setupZoomControls();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>setupUI();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>renderRoute();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>renderWaypoints();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>updateProgress();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>centerMap();</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Load entries from localStorage</b></p>
<p class="p1"><b>function loadEntries() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const saved = localStorage.getItem('frodoJourneyEntries');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (saved) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>entries = JSON.parse(saved);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Save entries</b></p>
<p class="p1"><b>function saveEntries() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>localStorage.setItem('frodoJourneyEntries', JSON.stringify(entries));</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Setup map pan and zoom</b></p>
<p class="p1"><b>function setupMap() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Wait for image to load before setting up</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapImage.onload = () =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const svg = document.getElementById('route-overlay');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const imgRect = mapImage.getBoundingClientRect();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>svg.setAttribute('viewBox', `0 0 ${mapImage.naturalWidth} ${mapImage.naturalHeight}`);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>};</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Pan with mouse/touch</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapContainer.addEventListener('mousedown', startPan);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapContainer.addEventListener('touchstart', startPan);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.addEventListener('mousemove', pan);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.addEventListener('touchmove', pan);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.addEventListener('mouseup', endPan);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.addEventListener('touchend', endPan);</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Pinch zoom</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>let lastDistance = 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapContainer.addEventListener('touchstart', (e) =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>if (e.touches.length === 2) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>const dx = e.touches[0].clientX - e.touches[1].clientX;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>const dy = e.touches[0].clientY - e.touches[1].clientY;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>lastDistance = Math.sqrt(dx * dx + dy * dy);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapContainer.addEventListener('touchmove', (e) =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>if (e.touches.length === 2) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>e.preventDefault();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>const dx = e.touches[0].clientX - e.touches[1].clientX;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>const dy = e.touches[0].clientY - e.touches[1].clientY;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>const distance = Math.sqrt(dx * dx + dy * dy);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>const delta = distance - lastDistance;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>if (Math.abs(delta) &gt; 1) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>zoom(delta &gt; 0 ? 1.05 : 0.95);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>lastDistance = distance;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>}</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>function startPan(e) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (e.target.closest('#ui-panel') || e.target.closest('.zoom-controls')) return;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (e.touches &amp;&amp; e.touches.length &gt; 1) return;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>isPanning = true;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapContainer.classList.add('grabbing');</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const clientX = e.clientX || e.touches[0].clientX;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const clientY = e.clientY || e.touches[0].clientY;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>startX = clientX - translateX;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>startY = clientY - translateY;</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>function pan(e) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (!isPanning) return;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const clientX = e.clientX || e.touches[0].clientX;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const clientY = e.clientY || e.touches[0].clientY;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>translateX = clientX - startX;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>translateY = clientY - startY;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>updateTransform();</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>function endPan() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>isPanning = false;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapContainer.classList.remove('grabbing');</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>function zoom(factor) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const newScale = Math.max(0.5, Math.min(5, scale * factor));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>scale = newScale;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>updateTransform();</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>function updateTransform() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>mapWrapper.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>function centerMap() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Center on The Shire initially</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const shireWaypoint = WAYPOINTS[0];</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const containerRect = mapContainer.getBoundingClientRect();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const imgRect = mapImage.getBoundingClientRect();</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>translateX = containerRect.width / 2 - (imgRect.width * shireWaypoint.x / 100) * scale;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>translateY = containerRect.height / 2 - (imgRect.height * shireWaypoint.y / 100) * scale;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>updateTransform();</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Setup zoom controls</b></p>
<p class="p1"><b>function setupZoomControls() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('zoom-in').addEventListener('click', () =&gt; zoom(1.3));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('zoom-out').addEventListener('click', () =&gt; zoom(0.77));</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('zoom-reset').addEventListener('click', () =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>scale = 1;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>centerMap();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Setup UI</b></p>
<p class="p1"><b>function setupUI() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Toggle panel</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>panelHandle.addEventListener('click', () =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>uiPanel.classList.toggle('minimized');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Log button</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('log-btn').addEventListener('click', addEntry);</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Modal close</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('modal-close').addEventListener('click', () =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>document.getElementById('waypoint-modal').classList.remove('active');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Close celebration on click</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('celebration').addEventListener('click', () =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>document.getElementById('celebration').classList.remove('active');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Render route</b></p>
<p class="p1"><b>function renderRoute() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const points = WAYPOINTS.map(w =&gt; `${w.x},${w.y}`).join(' ');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>routeBase.setAttribute('points', points);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>routeCompleted.setAttribute('points', points);</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Render waypoint markers</b></p>
<p class="p1"><b>function renderWaypoints() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>waypointsGroup.innerHTML = '';</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const totalWalked = entries.reduce((sum, e) =&gt; sum + e.distance, 0);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const currentWaypointIndex = WAYPOINTS.findIndex(w =&gt; w.distance &gt; totalWalked);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>WAYPOINTS.forEach((waypoint, index) =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const isReached = totalWalked &gt;= waypoint.distance;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const isCurrent = index === currentWaypointIndex;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>g.classList.add('waypoint');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>if (isReached) g.classList.add('waypoint-reached');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>else if (isCurrent) g.classList.add('waypoint-current');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>else g.classList.add('waypoint-unreached');</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>circle.setAttribute('cx', waypoint.x);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>circle.setAttribute('cy', waypoint.y);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>circle.setAttribute('r', isCurrent ? 1.5 : 1);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>circle.setAttribute('stroke-width', isCurrent ? 0.4 : 0.3);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const innerCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>innerCircle.setAttribute('cx', waypoint.x);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>innerCircle.setAttribute('cy', waypoint.y);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>innerCircle.setAttribute('r', 0.4);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>innerCircle.setAttribute('fill', '#fff');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>innerCircle.setAttribute('opacity', '0.8');</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>g.appendChild(circle);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>g.appendChild(innerCircle);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>// Click handler</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>g.addEventListener('click', (e) =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>e.stopPropagation();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>showWaypointModal(waypoint);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>});</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>waypointsGroup.appendChild(g);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>});</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Show waypoint modal</b></p>
<p class="p1"><b>function showWaypointModal(waypoint) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('modal-title').textContent = waypoint.name;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('modal-distance').textContent = `${waypoint.distance} km from The Shire`;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('modal-lore').textContent = waypoint.lore;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('waypoint-modal').classList.add('active');</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Update progress</b></p>
<p class="p1"><b>function updateProgress() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const totalWalked = entries.reduce((sum, e) =&gt; sum + e.distance, 0);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const remaining = Math.max(0, TOTAL_DISTANCE - totalWalked);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const percentComplete = Math.min(100, (totalWalked / TOTAL_DISTANCE) * 100);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update stats</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('stat-walked').innerHTML = `${totalWalked.toFixed(1)}&lt;span class="stat-unit"&gt;km&lt;/span&gt;`;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('stat-remaining').innerHTML = `${remaining.toFixed(0)}&lt;span class="stat-unit"&gt;km&lt;/span&gt;`;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update progress bar</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('progress-bar').style.width = `${percentComplete}%`;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('progress-text').textContent = `${percentComplete.toFixed(1)}% Complete`;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Find current waypoint</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const currentWaypointIndex = WAYPOINTS.findIndex(w =&gt; w.distance &gt; totalWalked);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const currentWaypoint = currentWaypointIndex &gt;= 0 ? WAYPOINTS[currentWaypointIndex] : WAYPOINTS[WAYPOINTS.length - 1];</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const previousWaypoint = currentWaypointIndex &gt; 0 ? WAYPOINTS[currentWaypointIndex - 1] : WAYPOINTS[0];</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update current location</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('current-location').textContent = currentWaypoint.name;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('location-desc').textContent = currentWaypoint.description;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('stat-next').textContent = currentWaypoint.name.split(',')[0];</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update route completed line</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const totalLength = calculatePathLength();</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const completedLength = totalLength * (percentComplete / 100);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>routeCompleted.style.strokeDasharray = `${completedLength} ${totalLength}`;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update character marker position</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>let markerX = previousWaypoint.x;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>let markerY = previousWaypoint.y;</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (currentWaypointIndex &gt;= 0 &amp;&amp; currentWaypointIndex &lt; WAYPOINTS.length) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const segmentStart = previousWaypoint.distance;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const segmentEnd = currentWaypoint.distance;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const segmentProgress = (totalWalked - segmentStart) / (segmentEnd - segmentStart);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â  Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>markerX = previousWaypoint.x + (currentWaypoint.x - previousWaypoint.x) * segmentProgress;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>markerY = previousWaypoint.y + (currentWaypoint.y - previousWaypoint.y) * segmentProgress;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>} else if (totalWalked &gt;= TOTAL_DISTANCE) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>markerX = WAYPOINTS[WAYPOINTS.length - 1].x;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>markerY = WAYPOINTS[WAYPOINTS.length - 1].y;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>characterMarker.setAttribute('transform', `translate(${markerX}, ${markerY})`);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update waypoint markers</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>renderWaypoints();</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Calculate total path length (approximate)</b></p>
<p class="p1"><b>function calculatePathLength() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>let length = 0;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>for (let i = 1; i &lt; WAYPOINTS.length; i++) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const dx = WAYPOINTS[i].x - WAYPOINTS[i - 1].x;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>const dy = WAYPOINTS[i].y - WAYPOINTS[i - 1].y;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>length += Math.sqrt(dx * dx + dy * dy);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>return length;</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Add entry</b></p>
<p class="p1"><b>function addEntry() {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const distanceInput = document.getElementById('distance-input');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const noteInput = document.getElementById('note-input');</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const distance = parseFloat(distanceInput.value);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (!distance || distance &lt;= 0) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>alert('Please enter a valid distance');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>return;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const previousTotal = entries.reduce((sum, e) =&gt; sum + e.distance, 0);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const newEntry = {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>id: Date.now(),</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>date: new Date().toISOString().split('T')[0],</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>distance,</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>note: noteInput.value.trim()</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>};</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>entries.push(newEntry);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>saveEntries();</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Clear inputs</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>distanceInput.value = '';</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>noteInput.value = '';</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Update UI</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>updateProgress();</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Check for waypoint celebration</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const newTotal = entries.reduce((sum, e) =&gt; sum + e.distance, 0);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>const passedWaypoint = WAYPOINTS.find(w =&gt;<span class="Apple-converted-space">Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>w.distance &gt; previousTotal &amp;&amp; w.distance &lt;= newTotal</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>);</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (passedWaypoint) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>showCelebration(passedWaypoint);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>// Check for completion</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>if (newTotal &gt;= TOTAL_DISTANCE &amp;&amp; previousTotal &lt; TOTAL_DISTANCE) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>setTimeout(() =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>showCelebration({</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>name: "Quest Complete!",</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>lore: "You have cast the One Ring into the fires of Mount Doom and saved Middle-earth! The journey of 2,863 km is complete. The Great Eye is vanquished, the Dark Tower falls, and the Age of Men begins."</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  Â  </span>});</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>}, 1000);</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Show celebration</b></p>
<p class="p1"><b>function showCelebration(waypoint) {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('celebration-title').textContent = waypoint.name;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('celebration-text').textContent = waypoint.lore;</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.getElementById('celebration').classList.add('active');</b></p>
<p class="p2"><b><span class="Apple-converted-space">Â Â </span></b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>setTimeout(() =&gt; {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  Â  </span>document.getElementById('celebration').classList.remove('active');</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>}, 5000);</b></p>
<p class="p1"><b>}</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>// Initialize on load</b></p>
<p class="p1"><b>if (document.readyState === 'loading') {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>document.addEventListener('DOMContentLoaded', init);</b></p>
<p class="p1"><b>} else {</b></p>
<p class="p1"><b><span class="Apple-converted-space">Â  </span>init();</b></p>
<p class="p1"><b>}</b></p>
<p class="p1"><b>&lt;/script&gt;</b></p>
<p class="p2"><b></b><br></p>
<p class="p1"><b>&lt;/body&gt;</b></p>
<p class="p1"><b>&lt;/html&gt;</b></p>
</body>
</html>
